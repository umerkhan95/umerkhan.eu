---
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";
import ExperienceItem from "../components/ExperienceItem.astro";
import { getCollection } from "astro:content";
import createSlug from "../lib/createSlug"

const posts = (await getCollection("blog")).sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());

const last_posts = posts.slice(0, 3);

const experience = [
  { dateRange: "Current", company: "Bloomers Berlin", role: "Founding Engineer", isCurrent: true },
  { dateRange: "2024", company: "Comparado (Idealo Group)", role: "Data Engineer", isCurrent: false },
  { dateRange: "2022 â€“ 2024", company: "CorAI (Bernstein Analytics)", role: "Cloud Solutions Architect", isCurrent: false },
  { dateRange: "2018 â€“ 2021", company: "Teradata", role: "Data Engineer", isCurrent: false },
];

const clients = [
  "Idealo", "Axel Springer", "Bernstein Group",
  "NewsCatcher", "Telenor Pakistan", "Bloomers",
];
---

<BaseLayout sideBarActiveItemID="home">
  <div class="pb-12 mt-5">
    <div class="text-xl py-1">Hey there ðŸ‘‹</div>
    <div class="text-5xl font-bold">I'm Umer Khan</div>
    <div class="text-3xl py-3 font-bold">Founding Engineer | AI & RAG Specialist</div>
    <div class="py-2">
      <text class="text-lg">
        Welcome to my corner of the internet! I'm a software engineer based in Berlin, passionate about building AI systems that actually work in production. I love working with LLMs, RAG pipelines, and turning complex automation ideas into simple, reliable tools. When I'm not coding, you'll find me exploring the latest in AI or tinkering with side projects.
      </text>
    </div>

    </div>
  </div>

  <div>
    <div class="text-3xl w-full font-bold mb-5">Latest from blog</div>
  </div>

  {
    last_posts.map((post) => (
      <>
        <HorizontalCard
          title={post.data.title}
          img={post.data.heroImage}
          desc={post.data.description}
          url={"/blog/" + createSlug(post.data.title, post.slug) + "/"}
          target="_self"
          badge={post.data.badge}
        />
        <div class="divider my-0" />
      </>
    ))
  }

  <div class="mb-10 mt-10">
    <div class="text-3xl w-full font-bold mb-5">experience</div>
    <div class="bg-base-200/50 rounded-lg p-4">
      {experience.map((exp) => (
        <ExperienceItem
          dateRange={exp.dateRange}
          company={exp.company}
          role={exp.role}
          isCurrent={exp.isCurrent}
        />
      ))}
    </div>
  </div>

  <div class="mb-10">
    <div class="text-3xl w-full font-bold mb-5">clients</div>
    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
      {clients.map((client) => (
        <div class="flex items-center gap-2 text-base-content/80">
          <span class="text-green-500">â€¢</span>
          <span>{client}</span>
        </div>
      ))}
    </div>
  </div>

</BaseLayout>
 