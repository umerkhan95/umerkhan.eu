---
import BaseLayout from "../layouts/BaseLayout.astro";
import ExperienceCard from "../components/cv/ExperienceCard.astro";

const experiences = [
  {
    role: "Founding Engineer",
    company: "Bloomers Berlin",
    location: "Berlin",
    period: "Jan 2025 — Present",
    current: true,
    keywords: ["LangChain", "LangGraph", "RAG", "Shopify", "MCP", "BioGPT", "GDPR", "Google Ads", "Python"],
    accomplishments: [
      "Led end-to-end migration from Squarespace to Shopify, including data pipeline design, API integrations, and deployment driving 200-250% increase in monthly orders.",
      "Built an AI-powered content migration workflow using LangChain agents to automatically migrate and transform 500+ product pages from legacy Squarespace to Shopify, reducing manual effort by 90%.",
      "Designed a GDPR-compliant RAG system integrating BioGPT with medical test results and physician recommendations.",
      "Optimized Google Ads and Merchant Center feeds through automated bidding algorithms and product data enrichment, achieving 4.9x ROAS.",
      "Developed a personal Shopify storefront MCP and managed an Orchestrator with LangGraph for daily automation workflow tasks."
    ]
  },
  {
    role: "Data Engineer",
    company: "Comparado GmbH (Idealo Group)",
    location: "Berlin",
    period: "Feb 2024 — Aug 2024",
    current: false,
    keywords: ["AWS", "ETL", "Growthbook", "DSA/DMA", "Google CSS-PLA", "Data Governance", "BI"],
    accomplishments: [
      "Standardised and simplified ETL pipelines to reduce historical grown technical debt.",
      "Supported migration of BI infrastructure to AWS.",
      "Extended first party tracking by adding attribution to new marketing channels like Google CSS-PLA and Bing.",
      "Worked closely with Idealo legal and data governance teams to reduce the footprint of shared Data Lake and ensure DSA/DMA compliance.",
      "Migrated AB Testing to Growthbook."
    ]
  },
  {
    role: "Cloud Solutions Architect",
    company: "CorAI (Bernstein Analytics)",
    location: "Berlin",
    period: "Dec 2022 — Jan 2024",
    current: false,
    keywords: ["NLP", "Sentiment Analysis", "REST APIs", "News Data", "Python", "AWS", "Stakeholder Management"],
    accomplishments: [
      "Developed a simple and inexpensive architecture to gather 1 million daily news articles globally, extracted policy-related news, and delivered via standardized API.",
      "Applied NLP models for precise article categorization and sentiment analysis.",
      "Delivered production-grade APIs for the product team to access the data and build a product on top of it.",
      "Collaborated closely with external stakeholders (NewsCatcher, Bernstein Group, Axel Springer)."
    ]
  },
  {
    role: "Data Engineer",
    company: "Teradata",
    location: "Karachi",
    period: "Jan 2018 — Dec 2021",
    current: false,
    keywords: ["Kafka", "ETL", "Teradata", "Telecom", "Data Pipelines", "SQL"],
    accomplishments: [
      "Worked in a data-focused agency, delivering high-quality data solutions for the largest telecom companies in Pakistan.",
      "Enhanced data ingestion pipelines to improve efficiency and accuracy.",
      "Developed ETL pipelines for Telenor Pakistan, integrating new data flows with Kafka."
    ]
  }
];

const skills = {
  "AI & ML": ["LLM Engineering", "RAG Systems", "LangChain", "LangGraph", "MCP", "AI Agents", "PyTorch", "NLP"],
  "Data & Backend": ["Python", "FastAPI", "PostgreSQL", "MongoDB", "Kafka", "ETL/ELT"],
  "Cloud": ["AWS", "S3", "Lambda", "Glue", "Athena", "EMR", "Docker"],
  "Observability": ["LangSmith", "Grafana", "Prometheus"]
};

const certifications = [
  { name: "Stepping into Leadership", org: "Idealo Group" },
  { name: "AWS Cloud Solutions Architect", org: "Amazon Web Services", link: "https://www.coursera.org/account/accomplishments/professional-cert/A5GALAS5GKWP" },
  { name: "Data Science with ML/AI", org: "IBM" }
];
---

<BaseLayout title="Resume" sideBarActiveItemID="cv" geoPage="cv">
  <!-- Hero Section -->
  <section class="py-10">
    <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-4 mb-6">
      <div>
        <p class="text-xs font-medium uppercase tracking-widest text-base-content/40 mb-2">Resume</p>
        <h1 class="text-3xl md:text-4xl font-bold tracking-tight text-base-content">Umer Khan</h1>
      </div>
      <div class="flex items-center gap-2 text-sm text-base-content/50">
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
        </svg>
        <span>Berlin, Germany</span>
      </div>
    </div>

    <p class="text-base-content/60 leading-relaxed max-w-2xl">
      Founding AI engineer building production-grade AI systems from the ground up.
      Specializing in GDPR-compliant RAG systems, AI-powered automation, and scalable
      data architectures with Python, FastAPI, LangChain, and AWS.
    </p>
  </section>

  <div class="w-full h-px bg-base-300/50"></div>

  <!-- Experience Section -->
  <section class="py-10">
    <div class="flex items-center justify-between mb-8">
      <h2 class="section-title mb-0">Experience</h2>
      <span class="text-xs text-base-content/40">{experiences.length} positions</span>
    </div>

    <div class="space-y-0">
      {experiences.map((exp, index) => (
        <ExperienceCard
          index={index + 1}
          role={exp.role}
          company={exp.company}
          location={exp.location}
          period={exp.period}
          current={exp.current}
          keywords={exp.keywords}
          accomplishments={exp.accomplishments}
        />
      ))}
    </div>
  </section>

  <div class="w-full h-px bg-base-300/50"></div>

  <!-- Skills Section -->
  <section class="py-10">
    <h2 class="section-title">Technical Stack</h2>
    <div class="grid gap-6 md:grid-cols-2">
      {Object.entries(skills).map(([category, items]) => (
        <div class="group">
          <h4 class="text-xs font-semibold uppercase tracking-wider text-base-content/50 mb-3">{category}</h4>
          <div class="flex flex-wrap gap-1.5">
            {items.map((item) => (
              <span class="px-2.5 py-1 text-xs font-medium text-base-content/70 bg-base-200/50 rounded-lg border border-base-300/50 hover:border-base-300 hover:bg-base-200 transition-all">
                {item}
              </span>
            ))}
          </div>
        </div>
      ))}
    </div>
  </section>

  <div class="w-full h-px bg-base-300/50"></div>

  <!-- Education & Certifications -->
  <section class="py-10">
    <div class="grid md:grid-cols-2 gap-10">
      <!-- Education -->
      <div>
        <h2 class="section-title">Education</h2>
        <div class="border border-base-300/60 rounded-xl p-5">
          <h3 class="font-semibold text-base-content mb-1">Bachelor of Science</h3>
          <p class="text-sm text-base-content/50">University of Karachi, Pakistan</p>
          <p class="text-xs text-base-content/40 mt-2">2014 — 2018</p>
        </div>
      </div>

      <!-- Certifications -->
      <div>
        <h2 class="section-title">Certifications</h2>
        <div class="space-y-3">
          {certifications.map((cert) => (
            <div class="flex items-start gap-3 group">
              <span class="flex-shrink-0 w-6 h-6 rounded-lg bg-base-200/60 flex items-center justify-center mt-0.5">
                <svg class="w-3 h-3 text-base-content/50" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </span>
              <div class="min-w-0">
                {cert.link ? (
                  <a href={cert.link} target="_blank" class="font-medium text-sm text-base-content hover:text-primary transition-colors">
                    {cert.name}
                  </a>
                ) : (
                  <span class="font-medium text-sm text-base-content">{cert.name}</span>
                )}
                <p class="text-xs text-base-content/50">{cert.org}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Footer CTA -->
  <section class="py-10 border-t border-base-300/50">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
      <p class="text-sm text-base-content/50">
        Open to AI engineering roles and consulting opportunities.
      </p>
      <a
        href="mailto:hello@umerkhan.io"
        class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-base-content bg-base-200/50 rounded-lg border border-base-300/50 hover:bg-base-200 hover:border-base-300 transition-all"
      >
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
        </svg>
        Get in touch
      </a>
    </div>
  </section>
</BaseLayout>
